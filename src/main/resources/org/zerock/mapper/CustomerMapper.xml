<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.zerock.mapper.CustomerMapper">
	<select id="getLoginInfo" resultType="hashmap" parameterType="String">
		select customer_type, customer_code from customer where social_id=#{socialId};
	</select>
	<select id="getCustomerName" resultType="String" parameterType="long">
		select customer_name from customer where customer_code=#{customerCode};
	</select>
	<select id="getBuyerProfile" resultType="hashmap" parameterType="long">
		select customer_name, customer_email, customer_phone, customer_address
		from customer
		where customer_type=1 AND customer_code=#{customerCode};
	</select>
	<select id="getSellerProfile" resultType="hashmap" parameterType="long">
		select customer_name, customer_email, customer_phone, customer_address, company_name, company_phone
		from customer
		where customer_type=2 AND customer_code=#{customerCode};
	</select>
	
	<insert id="insertBuyer" parameterType="org.zerock.domain.CustomerVO">
		insert into customer(social_id, social_type, customer_email, customer_address, customer_phone, 
			customer_name, customer_type) 
			values (#{socialId}, #{socialType}, #{customerEmail}, #{customerAddress}, 
			#{customerPhone}, #{customerName}, #{customerType});
	</insert>
	<insert id="insertSeller" parameterType="org.zerock.domain.CustomerVO">
		insert into customer(social_id, social_type, customer_email, customer_address, customer_phone, 
			customer_name, customer_type, company_name, company_phone) 
			values (#{socialId}, #{socialType}, #{customerEmail}, #{customerAddress}, 
			#{customerPhone}, #{customerName}, #{customerType}, #{companyName}, #{companyPhone});
	</insert>
	<select id = "getCompanyName" resultType = "String" parameterType = "Long">
		select company_name from customer where customer_code = #{customer_code}
	</select>
</mapper>